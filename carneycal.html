<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.cumbreserenaproductions.com/"> <meta property="og:title" content="Cumbre Serena World Productions">
  <meta property="og:description" content="Productora cinematogr√°fica independiente. Desarrollo, producci√≥n y distribuci√≥n de proyectos audiovisuales √∫nicos.">
  <meta property="og:image" content="https://www.cumbreserenaproductions.com/img/social-share.jpg"> <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://www.cumbreserenaproductions.com/">
  <meta property="twitter:title" content="Cumbre Serena World Productions">
  <meta property="twitter:description" content="Productora cinematogr√°fica independiente.">
  <meta property="twitter:image" content="https://www.cumbreserenaproductions.com/img/social-share.jpg">
  <title>Cumbre Serena World Productions</title>
  <meta name="description" content="Productora de cine: desarrollo, producci√≥n y distribuci√≥n de proyectos audiovisuales." />
  <link rel="icon" href="img/favicon.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://unpkg.com/scrollreveal"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Barlow:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..700&family=Inter:wght@400..700&family=Montserrat:wght@800&family=Poppins:wght@400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<script type="module" src="/main.js"></script>
<body>
  <div id="loader-wrapper">
  <img src="img/gifclapper.gif" alt="Cargando" class="loader-clapper">
  <p>CARGANDO...</p>
  </div>
  <div class="custom-cursor"></div>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html">
        CUMBRE SERENA WORLD PRODUCTIONS
        <img class="animate__animated animate__backInLeft" src="img/logo1.png" alt="Logo">
      </a>

      <input type="checkbox" id="nav-toggle" class="nav-toggle">
      <label for="nav-toggle" class="hamburger">‚ò∞</label>

      <nav class="menu">
        <a href="index.html">INICIO</a>
        <a href="about.html">QUI√âNES SOMOS</a>
        <a href="#otros-proyectos">PROYECTOS</a>
        <a href="team.html">EQUIPO</a>
        <a href="index.html #contact" class="cta">CONTACTO</a>
      </nav>
    </div>
  </header>
    <div class="top-spacer"></div>
    <section class="section about-project">
      <div class="container grid-2">
        <div>
          <h2>Carne y cal</h2>
          <p><strong>G√©nero:</strong> Terror Misterio Psicol√≥gica</p>
          <p><strong>Director:</strong> Maqui</p>
          <p><strong>Gui√≥n:</strong> D√≠dac Toscano</p>
          <p><strong>Producci√≥n:</strong> Cumbre Serena World Productions</p>
          <p><strong>A√±o de estreno:</strong> 2026</p>
          <p><strong>Sinopsis:</strong> Carne y Cal, es un largometraje de terror psicol√≥gico y misterio inspirado en la leyenda de las Caras de B√©lmez.
            La hist√≥ria sigue a Juli√°n, un joven pintor madrile√±o sumido en el duelo por una ruptura, que inesperadamente hereda una vieja casa en un remoto pueblo andaluz. Junto a su grupo de amigos ‚Äìy su ex, √Ångela‚Äì decide viajar para conocer la propiedad, que pronto revela una inquietante presencia.
          </p>
        </div>
        
        <div class="about-media">
          <video id="project-video"> 
            <source src="videos/carneycalvideo.mp4" type="video/mp4">
          </video>
        </div>
      </div>
    </section>
    

    <section id="otros-proyectos" class="section projects">
      <div class="container">
        <h2>Otros proyectos</h2>
        <div class="slider-wrapper">
          <button class="slider-btn prev-btn"><i class="fa-solid fa-chevron-left"></i></button>
        <div class="grid-projects">
          
          <article class="card">
          <a href="elramo.html">
          <img src="img/elramo.webp" alt="El ramo" />
          <div class="card-body">
            <h3>EL RAMO</h3>
            <p>Corto ‚Äî Festivales</p>
            <a class="link" href="elramo.html">Ver ficha</a>
          </div>
          </a>
        </article>

          <article class="card">
          <img src="img/hombredelviento.webp" alt="RIP" />
          <div class="card-body">
            <h3>El hombre del viento</h3>
            <p>Thriller Drama ‚Äî 2027</p>
            <a class="link" href="#">Ver ficha</a>
          </div>
        </article>

        <article class="card">
          <a href="boysthatcurl.html">
          <img src="img/doc-curling.webp" alt="Proyecto D" />
          <div class="card-body">
            <h3>BOYS THAT CURL</h3>
            <p>Documental</p>
            <a class="link" href="boysthatcurl.html">Ver ficha</a>
          </div>
          </a>
        </article>

          <article class="card">
          <a href="cumbreserena.html">
          <img src="img/cumbreserena.webp" alt="Proyecto D" />
          <div class="card-body">
            <h3>Los dos mundos de Cumbre Serena</h3>
            <p>Fantas√≠a ‚Äî Desarrollo</p>
            <a class="link" href="cumbreserena.html">Ver ficha</a>
          </div>
          </a>
        </article>
        </div>
        <button class="slider-btn next-btn"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
      </div>
    </section>


  <footer class="footer">
    <div class="container footer-inner">
      <p>¬© Copyright <span id="year"></span> | Cumbre Serena World Productions | Productora cinematogr√°fica </p>

      <nav class="socials">
        <a href="#"><i class="fa-brands fa-instagram"></i></a>
        <a href="#"><i class="fa-brands fa-facebook"></i></a>
        <a href="#"><i class="fa-brands fa-linkedin"></i></a>
      </nav>
    </div>
  </footer>

  <script type="module" src="/main.js"></script>
  <script>
    // Se registra el plugin ScrollTrigger antes de usarlo
    gsap.registerPlugin(ScrollTrigger);

    // --- FUNCI√ìN CENTRAL DEL LOADER ---
    const hideLoader = () => {
        const loader = document.getElementById('loader-wrapper');
        // Usamos un timeout para asegurar que la clase se a√±ada al final de la ejecuci√≥n
        setTimeout(() => {
            if (loader && !loader.classList.contains('loader-hidden')) {
                loader.classList.add('loader-hidden');
            }
        }, 50); // Peque√±o retraso para asegurar que el DOM ha cargado
    };
    
    // Ejecutamos el loader inmediatamente para la mayor√≠a de los navegadores
    hideLoader(); 
    // Y un respaldo de 1.5 segundos para forzar la desaparici√≥n si la carga se queda atascada
    setTimeout(hideLoader, 1500); 

    // --- L√ìGICA DE INICIALIZACI√ìN INMEDIATA (Cursor, Nav, Carrusel, etc.) ---
    
    document.getElementById("year").textContent = new Date().getFullYear();
    const navToggle = document.getElementById("nav-toggle");
    document.querySelectorAll(".menu a").forEach(a => {
        a.addEventListener("click", () => navToggle.checked = false);
    });
    
    // L√≥gica del Cursor (Sin Cambios)
    const cursor = document.querySelector('.custom-cursor');
    document.addEventListener('mousemove', e => {
        cursor.style.left = `${e.clientX}px`;
        cursor.style.top = `${e.clientY}px`;
    });
    document.querySelectorAll('.card, .btn, .menu a, .brand, a, .slider-btn, .prev-btn').forEach(el => {
        el.addEventListener('mouseenter', () => cursor.style.opacity = '1');
        el.addEventListener('mouseleave', () => cursor.style.opacity = '0');
    });

    // L√≥gica del Carrusel (Sin Cambios)
    const gridProjects = document.querySelector('.grid-projects');
    const nextBtn = document.querySelector('.next-btn');
    const prevBtn = document.querySelector('.prev-btn');

    if (nextBtn && prevBtn && gridProjects) {
        const scrollProjects = (direction) => {
            const cardWidth = 300; 
            const gap = 32;
            const scrollAmount = cardWidth + gap;
            
            gridProjects.scrollBy({
                left: direction === 'next' ? scrollAmount : -scrollAmount,
                behavior: 'smooth'
            });
        };
        nextBtn.addEventListener('click', () => scrollProjects('next'));
        prevBtn.addEventListener('click', () => scrollProjects('prev'));
    }


    // -------------------------------------------------------------------
    // üí• FASE 1: DOMContentLoaded (Inicializar GSAP y Triggers)
    // -------------------------------------------------------------------

   document.addEventListener('DOMContentLoaded', () => {

  const video = document.getElementById("project-video");
  const section = document.querySelector(".about-project");

  if (!video || !section || typeof gsap === 'undefined') return;

  video.muted = true;
  video.preload = "auto";
  video.setAttribute("playsinline", "");
  video.setAttribute("webkit-playsinline", "");

  // Esperamos metadata REAL
  video.addEventListener("loadedmetadata", () => {

    ScrollTrigger.getAll().forEach(t => t.kill());

    gsap.set(video, {
      opacity: 1,
      y: 0
    });

    video.currentTime = 0;
    video.pause();

    ScrollTrigger.matchMedia({

      // =====================
      // üñ• DESKTOP
      // =====================
      "(min-width: 901px)": () => {

        gsap.to(video, {
          currentTime: video.duration,
          ease: "none",
          scrollTrigger: {
            trigger: section,
            start: "top 40px",
            end: "+=3000",
            scrub: true,
            pin: true
          }
        });

      },

      // =====================
      // üì± M√ìVIL / TABLET
      // =====================
      "(max-width: 900px)": () => {

        gsap.to(video, {
          currentTime: video.duration,
          ease: "none",
          scrollTrigger: {
            trigger: section,
            start: "top 80%",   // empieza cuando ya lo ves
            end: "bottom 20%",
            scrub: true,
            pin: false          // üîë CLAVE
          }
        });

      }
    });

    ScrollTrigger.refresh();
  });
});

    // -------------------------------------------------------------------
    // üí• FASE 2: window.load (ScrollReveal y Refresh Final)
    // -------------------------------------------------------------------

    window.addEventListener('load', () => {
        
        // Forzar un refresh del ScrollTrigger para recalcular posiciones
        if (typeof ScrollTrigger !== 'undefined') {
            ScrollTrigger.refresh();
        }

        // Inicializaci√≥n de ScrollReveal (Resto de las animaciones)
        if (typeof ScrollReveal !== 'undefined') {
            
            ScrollReveal().reveal('.about-project .grid-2', { 
                delay: 200,
                distance: '50px',
                origin: 'bottom',
                easing: 'ease-in-out'
            });

            ScrollReveal().reveal('#otros-proyectos .slider-wrapper', {
                delay: 500,
                distance: '30px',
                origin: 'bottom',
                easing: 'ease-in-out'
            });

            ScrollReveal().reveal('footer', { 
                delay: 100,
                distance: '50px',
                origin: 'bottom',
                easing: 'ease-in-out'
            });
        }
    });
</script>
</body>
</html>
